<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Fraud Detection Portal</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
  <style>
    .hidden { display: none; }
    .result { margin-top: 10px; }
    pre { white-space: pre-wrap; word-wrap: break-word; background:#f5f5f5; padding:8px; border-radius:4px; }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>Healthcare Claims â€” Fraud Detection</h1>
      <p class="subtitle">Upload batch files or run single-record analysis for provider-level or claim-level fraud detection.</p>
    </header>

    <main>
      <div class="selectors">
        <button class="big" id="btn_provider">Provider level fraud</button>
        <button class="big" id="btn_claim">Claim level fraud</button>
      </div>

      <!-- Provider Section -->
      <section id="provider_section" class="panel hidden">
        <h2>Provider Level Fraud</h2>
        <div class="mode-buttons">
          <button class="mode" data-mode="batch" data-type="provider">Batch Mode</button>
          <button class="mode" data-mode="single" data-type="provider">Single Analysis Mode</button>
        </div>

        <!-- Batch -->
        <div class="batch-panel hidden" data-type="provider">
          <p>Upload CSV or JSON. </strong></p>
          <input type="file" id="provider_batch_file" />
          <button id="provider_batch_analyze">Analyse</button>
          <div id="provider_batch_result" class="result"></div>
        </div>

        <!-- Single -->
        <div class="single-panel hidden" data-type="provider">
         <form id="provider_single_form" class="form-grid">
    <label for="is_inpatient">Inpatient Status </label>
    <input type="number" name="is_inpatient" id="is_inpatient" placeholder="e.g., 1" required>

    <label for="is_groupcode">Group Code </label>
    <input type="number" name="is_groupcode" id="is_groupcode" placeholder="e.g., 0" required>

    <label for="ChronicCond_rheumatoidarthritis">Rheumatoid Arthritis </label>
    <input type="number" name="ChronicCond_rheumatoidarthritis" id="ChronicCond_rheumatoidarthritis" placeholder="e.g., 1" required>

    <label for="Beneficiaries_Count">Beneficiaries Count</label>
    <input type="number" name="Beneficiaries_Count" id="Beneficiaries_Count" placeholder="e.g., 150" required>

    <label for="DeductibleAmtPaid">Deductible Paid</label>
    <input type="number" name="DeductibleAmtPaid" id="DeductibleAmtPaid" placeholder="e.g., 1000" required>

    <label for="InscClaimAmtReimbursed">Reimbursed Amount</label>
    <input type="number" name="InscClaimAmtReimbursed" id="InscClaimAmtReimbursed" placeholder="e.g., 5500" required>

    <label for="ChronicCond_Alzheimer">Alzheimer's </label>
    <input type="number" name="ChronicCond_Alzheimer" id="ChronicCond_Alzheimer" placeholder="e.g., 1" required>

    <label for="ChronicCond_IschemicHeart"> chronic Heart </label>
    <input type="number" name="ChronicCond_IschemicHeart" id="ChronicCond_IschemicHeart" placeholder="e.g., 0" required>

    <label for="Days_Admitted">Days Admitted</label>
    <input type="number" name="Days_Admitted" id="Days_Admitted" placeholder="e.g., 5" required>

    <label for="ChronicCond_stroke">Stroke </label>
    <input type="number" name="ChronicCond_stroke" id="ChronicCond_stroke" placeholder="e.g., 0" required>

    <button type="submit">Analyse</button>
</form>
          <div id="provider_single_result" class="result"></div>
          <h4>AI Summary</h4>
          <pre id="provider_ai_summary_stream"></pre>
        </div>
      </section>

      <!-- Claim Section -->
      <section id="claim_section" class="panel hidden">
        <h2>Claim Level Fraud</h2>
        <div class="mode-buttons">
          <button class="mode" data-mode="batch" data-type="claim">Batch Mode</button>
          <button class="mode" data-mode="single" data-type="claim">Single Analysis Mode</button>
        </div>

        <!-- Batch -->
        <div class="batch-panel hidden" data-type="claim">
          <p>Upload CSV or JSON. </strong></p>
          <input type="file" id="claim_batch_file" />
          <button id="claim_batch_analyze">Analyse</button>
          <div id="claim_batch_result" class="result"></div>
        </div>

        <!-- Single -->
        <div class="single-panel hidden" data-type="claim">
          <form id="claim_single_form" class="form-grid">
    <label for="Total_Claims_Per_Bene">Total Claims Per Beneficiary</label>
    <input type="number" name="Total_Claims_Per_Bene" id="Total_Claims_Per_Bene" placeholder="e.g., 5" required>

    <label for="TimeInHptal">Time in Hospital (days)</label>
    <input type="number" name="TimeInHptal" id="TimeInHptal" placeholder="e.g., 3" required>

    <label for="Provider_Claim_Frequency">Provider Claim Frequency</label>
    <input type="number" name="Provider_Claim_Frequency" id="Provider_Claim_Frequency" placeholder="e.g., 120" required>

    <label for="ChronicCond_stroke_Yes">Stroke </label>
    <input type="number" name="ChronicCond_stroke_Yes" id="ChronicCond_stroke_Yes" placeholder="e.g., 1" required>

    <label for="DeductibleAmtPaid">Deductible Paid</label>
    <input type="number" name="DeductibleAmtPaid" id="DeductibleAmtPaid" placeholder="e.g., 500" required>

    <label for="OPD_Flag_Yes">Outpatient </label>
    <input type="number" name="OPD_Flag_Yes" id="OPD_Flag_Yes" placeholder="e.g., 0" required>

    <label for="Diagnosis_Count">Diagnosis Count</label>
    <input type="number" name="Diagnosis_Count" id="Diagnosis_Count" placeholder="e.g., 4" required>

    <label for="ChronicDisease_Count">Chronic Disease Count</label>
    <input type="number" name="ChronicDisease_Count" id="ChronicDisease_Count" placeholder="e.g., 2" required>

    <label for="Age">Age</label>
    <input type="number" name="Age" id="Age" placeholder="e.g., 72" required>

    <button type="submit">Analyse</button>
  </form>
          <div id="claim_single_result" class="result"></div>
          <h4>AI Summary</h4>
          <pre id="claim_ai_summary_stream"></pre>
        </div>
      </section>
    </main>
  </div>

  <script src="{{ url_for('static', filename='app.js') }}"></script>
</body>
</html>
